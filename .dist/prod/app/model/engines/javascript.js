var B=[];function Q(k){let w=k.split(`
`).map((j)=>j.trim()).filter((j)=>j.length>0).map((j)=>JSON.parse(j));B.push(...w)}function R(){return B.length}function S(){B.splice(0,B.length)}function U(k){let w=P(k.sort_by,k.ascending);return K(w,k.start,k.length)}function V(k,w){let{start:j,length:A,sort_by:D,ascending:C}=w,{type:F,plan:J,size:H}=k,I=F?B.filter((G)=>G.type==F):B;if(J)I=B.filter((G)=>G.data.plan==J);if(H)I=B.filter((G)=>G.data.size==H);return K(I,j,A)}function W(k,w){let{start:j,length:A,sort_by:D,ascending:C}=w,F=k.toLowerCase(),J=B.filter((H)=>{let I=(H.data.message||"").toLowerCase(),G=(H.data.name||"").toLowerCase(),L=(H.data.email||"").toLowerCase();return I&&I.includes(F)||G&&G.includes(F)||L&&L.includes(F)});return K(J,j,A)}function X(k){let w=B.find((j)=>j.data.id==k);return w?JSON.stringify(w):null}function K(k,w,j){let A=k.length,D=Math.min(w+j,A),C=k.slice(w,D).map((F)=>JSON.stringify(F)).join(",");return`{"total":${A},"start":${w},"length":${j},"items":[${C}]}`}var M=["free","pro","enterprise"],N=["s","m","l","xl"];function P(k,w){return[...B].sort((j,A)=>{let D=k||"id",C=0;if(D=="id")C=j.data.id-A.data.id;else if(D=="cc")C=j.data.cc.localeCompare(A.data.cc);else if(D=="size")C=N.indexOf(j.data.size||"s")-N.indexOf(A.data.size||"s");else if(D=="plan")C=M.indexOf(j.data.plan)-M.indexOf(A.data.plan);return w?C:-C})}export{W as search,R as get_total,X as get,V as filter,S as clear,U as all,Q as add_events};
