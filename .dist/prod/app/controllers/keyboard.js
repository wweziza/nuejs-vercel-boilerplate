import{$ as G,$$ as J}from"/@nue/view-transitions.js";import{router as K}from"/@nue/app-router.js";var F="a.list-item";document.addEventListener("keydown",(q)=>{let{target:B,key:z}=q,H={},D=G(F),C=G("[type=search]");if(z=="Tab"){if(B==C&&C.value)q.preventDefault(),D.focus();if(q.shiftKey&&D==document.activeElement)q.preventDefault(),C.focus()}if(z=="k"&&q.metaKey)C.focus();if(B.oninput||B.form||q.defaultPrevented||q.metaKey||q.ctrlKey)return;if(z=="Escape"&&!G(":popover-open"))K.del("id");if(z=="/")q.preventDefault();if(J("[data-accesskey]").filter((A)=>!A.disabled&&!A.ariaPressed).forEach((A)=>{if(A.dataset.accesskey.split(" ").includes(z))A.focus(),A.click()}),["ArrowDown","j","ArrowUp","k"].includes(z)){let A=L(["ArrowDown","j"].includes(z));if(A?.focus(),K.state.id)A?.click();q.preventDefault()}});function L(q){let B=document.activeElement;if(!B||!B.matches(F))return G(F);let z=J(F),H=z[z.indexOf(B)+(q?1:-1)];if(H)return H;let D=G(`[data-accesskey="${q?"ArrowRight l":"ArrowLeft h"}"]`);if(!D.disabled){D.click();let C=J(F);return C[q?0:C.length-1]}}
