import{router as k}from"/@nue/app-router.js";import{model as b}from"../model/index.js";import{mount as f}from"/@nue/mount.js";k.configure({route:"/app/:type/:filter",url_params:["query","id","start","sort","asc","shot"],session_params:["plans_opened","sizes_opened","nav_opened"],persistent_params:["show_grid_view"]});addEventListener("route:app",async()=>{if(b.authenticated)await b.initialize();else f("login-screen",window.login)});addEventListener("hmr",()=>{app.classList.add("hmr"),setTimeout(()=>app.classList.remove("hmr"),100)});b.on("authenticated",async()=>{await b.load(),window.login.innerHTML="",f("app",window.app)});if(window.app)dispatchEvent(new Event("route:app"));
