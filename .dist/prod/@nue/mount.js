var P=Object.create;var{getPrototypeOf:Q,defineProperty:K,getOwnPropertyNames:R}=Object;var S=Object.prototype.hasOwnProperty;var M=(k,C,q)=>{q=k!=null?P(Q(k)):{};let z=C||!k||!k.__esModule?K(q,"default",{value:k,enumerable:!0}):q;for(let B of R(k))if(!S.call(z,B))K(z,B,{get:()=>k[B],enumerable:!0});return z};var N=((k)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(k,{get:(C,q)=>(typeof require!=="undefined"?require:C)[q]}):k)(function(k){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+k+'" is not supported')});var I=[],T=0;async function O(k){let C=document.querySelector('[name="nue:components"]')?.getAttribute("content");if(!C)return[];let q=[];for(let z of C.split(" "))if(z){if(z==k)z+=`?${++T}`;let{lib:B}=await import(z);if(B)q.push(...B)}return q}async function W(k,C,q){let z=await O(),B=z.find((G)=>G.name==k);if(!B)return;let{createApp:F}=await import("./nue.js"),D=F(B,q,z).mount(C);return D.root.setAttribute("custom",k),D}async function U(k){let C=document.querySelectorAll("[custom]"),q=C[0]?await O(k):[];if(!q[0])return;let{createApp:z}=await import("./nue.js");for(let B of[...C]){let F=B.getAttribute("custom"),D=B.nextElementSibling,G=D?.type=="application/json"?JSON.parse(D.textContent):{},J=q.find((H)=>H.name==F);if(J){let H=z(J,G,q).mount(B);I.push(H)}else if(customElements.get(F));}}async function X(){I.forEach((k)=>k.unmount()),I=[]}addEventListener("route",()=>U());addEventListener("DOMContentLoaded",()=>dispatchEvent(new Event("route")));export{X as unmountAll,U as mountAll,W as mount};
